import{_ as E}from"./page-container-obnBgMEU.js";import{u as U,r as _,o as r,c as h,b as a,d as t,z as u,e as i,f as d,bQ as y,E as b,aV as R,bR as S,p as x,k as A,g as B}from"./index-COjUZeQ6.js";import{a as C,E as I}from"./el-col-9XAX86jF.js";import{_ as N,E as V}from"./_plugin-vue_export-helper-CMIzlf7v.js";import{E as z}from"./el-progress-m-pfgh0E.js";/* empty css                   */import"./_baseClone-CfvxtYSq.js";import"./isEqual-DI-HxMro.js";const Q=""+new URL("avatar-CQlNaQTu.jpg",import.meta.url).href,F=o=>(x("data-v-71851bfc"),o=o(),A(),o),L=["src"],T={key:1,src:Q,width:"278"},$=F(()=>B("br",null,null,-1)),j={__name:"UserAvatar",setup(o){const l=U(),s=_(l.user.user_pic),c=_(),m=n=>{const e=new FileReader;e.readAsDataURL(n.raw),e.onload=()=>{s.value=e.result}},f=async()=>{await y(s.value),await l.getUser(),b({type:"success",message:"更换头像成功"})};return(n,e)=>{const v=z,p=V,g=C,w=I,k=E;return r(),h(k,{title:"更换头像"},{default:a(()=>[t(w,null,{default:a(()=>[t(g,{span:12},{default:a(()=>[t(v,{ref_key:"uploadRef",ref:c,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":m},{default:a(()=>[s.value?(r(),u("img",{key:0,src:s.value,class:"avatar"},null,8,L)):(r(),u("img",T))]),_:1},512),$,t(p,{onClick:e[0]||(e[0]=q=>c.value.$el.querySelector("input").click()),type:"primary",icon:i(R),size:"large"},{default:a(()=>[d("选择图片")]),_:1},8,["icon"]),t(p,{type:"success",icon:i(S),size:"large",onClick:f},{default:a(()=>[d(" 上传头像 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},W=N(j,[["__scopeId","data-v-71851bfc"]]);export{W as default};
