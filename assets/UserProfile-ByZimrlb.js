import{_ as k}from"./page-container-obnBgMEU.js";import{u as E,r as s,o as x,c as U,b as a,d as e,f as y,bP as w,E as B}from"./index-COjUZeQ6.js";import{E as I,a as S}from"./el-form-item-Fwc72fMp.js";import{E as q}from"./_plugin-vue_export-helper-CMIzlf7v.js";import{E as C}from"./el-input-_OoFJxtZ.js";/* empty css                   */import"./_baseClone-CfvxtYSq.js";const A={__name:"UserProfile",setup(F){const n=E();console.log(n.user);const{nickname:i,username:d,email:p,id:_}=n.user,m=s(null),l=s({id:_,nickname:i,username:d,email:p}),c={nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]},f=async()=>{await m.value.validate()&&(await w(l.value),B.success("修改成功"),n.getUser())};return(g,o)=>{const u=C,r=I,b=q,v=S,V=k;return x(),U(V,{title:"基本资料"},{default:a(()=>[e(v,{ref_key:"formRef",ref:m,model:l.value,rules:c,"label-width":"80px"},{default:a(()=>[e(r,{label:"登录名称"},{default:a(()=>[e(u,{modelValue:l.value.username,"onUpdate:modelValue":o[0]||(o[0]=t=>l.value.username=t),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:a(()=>[e(u,{modelValue:l.value.nickname,"onUpdate:modelValue":o[1]||(o[1]=t=>l.value.nickname=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:a(()=>[e(u,{modelValue:l.value.email,"onUpdate:modelValue":o[2]||(o[2]=t=>l.value.email=t)},null,8,["modelValue"])]),_:1}),e(r,null,{default:a(()=>[e(b,{type:"primary",onClick:f},{default:a(()=>[y("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{A as default};
